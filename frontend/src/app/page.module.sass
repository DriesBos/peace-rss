@import '@/styles/vars.sass'

// APP STRUCTURE
.app
  position: relative
  height: 100%
  display: flex
  flex-direction: column
  min-height: 100vh
  width: 100vw
  padding-top: var(--space-top)
  scrollbar-width: none
  -ms-overflow-style: none
  gap: var(--space-headcontent-gap)
  &::-webkit-scrollbar
    display: none

// NEWS FEED
.header
  position: sticky
  top: 0
  width: 100%
  display: flex
  flex-direction: row
  justify-content: flex-start
  align-items: center
  gap: 0.75rem
  padding: 16px 0
  background: var(--color-app)
  z-index: calc(var(--index-newsfeed) + 1)
  &_Menu
    padding: 0 var(--space-sides-general)
  &_Offline
    @include font-meta
    color: var(--color-text-secondary)
    white-space: nowrap
  &_CategoryList
    list-style: none
    display: flex
    flex-direction: row
    flex-wrap: nowrap
    gap: .5rem
    overflow-x: auto
    scrollbar-width: none
    -ms-overflow-style: none
    margin-left: auto
    padding: 0 var(--space-sides-general)
    overflow-y: visible !important
    &::-webkit-scrollbar
      display: none
    li
      @include font-nav
      display: flex
      align-items: flex-start
      gap: 2px
      cursor: pointer
    &_Count
      @include font-count
      flex: 0 0 auto
      color: var(--color-text-secondary)

.entryList
  padding: 0 var(--space-sides-general)
  display: flex
  flex-direction: column
  gap: 1.5rem
  &_Footer
    padding: 2rem var(--space-sides-general)
    display: flex
    justify-content: center

@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

.lazyEntryWrapper
  min-height: 38.5px
  animation: fadeIn 0.6s ease-in-out forwards

.lazyEntryImage
  animation: fadeIn 0.6s ease-in-out forwards

// IF NO NEWS FEED
.error
  padding: 10px 12px
  border-bottom: 1px solid #e6e6e6
  background: #f7f7f7
  color: #333
  font-size: 13px
  white-space: pre-wrap
  overflow-wrap: anywhere

// ENTRY MODAL 
.entry
  &_Container
    position: relative
    height: 100%
    display: flex
    flex-direction: column
    gap: var(--space-headcontent-gap)
    user-select: auto
    -webkit-user-select: auto
    -moz-user-select: auto
    -ms-user-select: auto
  &_Header
    display: flex
    flex-direction: column
    gap: var(--space-titlemeta-gap)
    padding: 16px var(--space-sides-general)
    position: sticky
    // 16px for header, 32px for padding
    top: calc(32px + 16px)
    background: var(--color-app)
    z-index: calc(var(--index-slidepanel) + 1)
  &_Meta
    display: flex
    color: var(--color-text-secondary)
    gap: 8px
    padding-left: 0 var(--space-sides-general)
    @include font-meta
    p, i
      @include font-meta
  &_Content
    @include font-body
    display: flex
    flex-direction: column
    padding: 0 var(--space-sides-stories)
    pre
      white-space: pre-wrap
    h1, h2, h3, h4, h5, h6
      @include font-title
      font-weight: 400
      margin-bottom: 2rem
    p
      margin-bottom: 1rem
    video, img
      margin-bottom: 1rem
      width: 100%
      max-width: 100%
      height: auto
    picture, figure, iframe
      width: 100%
      max-width: 100%
      height: auto
    &:global(a)
      color: inherit
      text-decoration: underline
    &:global(img)
      max-width: 100%
      width: 100%
      height: auto
  &_noContent
    @include font-body
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    gap: 1rem
    padding: 0 var(--space-sides-general)
    color: var(--color-text-secondary)

.entry_Footer
  display: flex
  flex-direction: column
  gap: 4rem
  padding: 0 var(--space-sides-stories)
  padding-top: 2rem

.actionsList
  display: flex
  flex-direction: row
  flex-wrap: wrap
  gap: 0.5em

.prevNextButtons
  display: flex
  justify-content: space-between

// MENU MODAL
.modalMenu
  padding: 4rem var(--space-sides-general)
  display: flex
  flex-direction: column
  max-height: 90vh
  overflow-y: auto
  gap: 2rem
  &::-webkit-scrollbar
    display: none
  &[data-open="true"]
    opacity: 1
    pointer-events: auto

// ADD MODAL
.modalAdd
  padding: 4rem var(--space-sides-general)
  display: flex
  flex-direction: column
  max-height: 90vh
  overflow-y: auto
  gap: 2rem
  &::-webkit-scrollbar
    display: none
  &_Title
    @include font-title
    font-weight: 600
    margin: 0

.sectionTitle
  @include font-title
  font-weight: 500
  margin-bottom: 1.5rem

// Combined Categories & Feeds Structure
.categoriesFeedsList
  display: flex
  flex-direction: column
  gap: 1.5rem
  margin-bottom: 2rem
  padding: 1rem
  background: var(--color-app)
  border-radius: 8px
  border: 1px solid var(--color-border, #e6e6e6)

.categoryGroup
  display: flex
  flex-direction: column
  gap: 0.5rem

.categoryHeader
  @include font-body
  display: flex
  align-items: center
  justify-content: space-between
  gap: 0.75rem
  padding: 0.5rem 0
  font-weight: 600
  background: none
  border: none
  text-align: left
  width: 100%
  cursor: pointer
  border-radius: 4px
  transition: all 0.2s ease
  &:hover
    background: var(--color-background-secondary, #f7f7f7)
  &Active
    background: var(--color-background-secondary, #f7f7f7)
    color: var(--color-primary, #1976d2)

.categoryHeaderButtons
  display: flex
  align-items: center
  gap: 0.5rem
  flex-shrink: 0

.categoryTitle
  flex: 1
  font-weight: 600

.feedsUnderCategory
  display: flex
  flex-direction: column
  gap: 0.25rem
  padding-left: 1.5rem
  margin-top: 0.25rem

.feedListItem
  @include font-body
  display: flex
  align-items: center
  justify-content: space-between
  padding: 0.5rem 0
  gap: 0.75rem
  &_Title
    flex: 1
    overflow: hidden
    text-overflow: ellipsis
    white-space: nowrap
  &_Actions
    display: flex
    align-items: center
    gap: 0.5rem
    flex-shrink: 0

.actionButtons
  display: flex
  align-items: center
  gap: 0.25rem
  flex-shrink: 0

.editButton, .deleteButton, .starButton, .toggleCollapseButton
  appearance: none
  background: none
  border: none
  padding: 4px
  cursor: pointer
  color: var(--color-text-secondary)
  display: flex
  align-items: center
  justify-content: center
  border-radius: 4px
  transition: all 0.2s ease
  flex-shrink: 0
  &:disabled
    opacity: 0.5
    cursor: not-allowed

.toggleCollapseButton
  &:hover:not(:disabled)
    background: var(--color-background-secondary, #f7f7f7)
    color: var(--color-primary, #1976d2)

.editButton
  &:hover:not(:disabled)
    background: var(--color-background-secondary, #f7f7f7)
    color: var(--color-primary, #1976d2)

.deleteButton
  &:hover:not(:disabled)
    background: var(--color-background-secondary, #f7f7f7)
    color: var(--color-error, #d32f2f)

.starButton
  font-size: 16px
  &:hover:not(:disabled)
    background: var(--color-background-secondary, #f7f7f7)
    transform: scale(1.1)

.addButton
  appearance: none
  background: none
  border: 1px solid var(--color-border, #e6e6e6)
  border-radius: 8px
  padding: 12px 16px
  cursor: pointer
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  color: var(--color-text-primary)
  font: inherit
  @include font-body
  font-weight: 500
  transition: all 0.2s ease
  margin-top: 1rem
  &:hover:not(:disabled)
    background: var(--color-background-secondary, #f7f7f7)
    border-color: var(--color-text-secondary)
  &:disabled
    opacity: 0.5
    cursor: not-allowed

// Forms Section
.formSection
  margin-bottom: 1.5rem

.formTitle
  @include font-body
  font-weight: 600
  margin-bottom: 0.75rem

.addForm
  display: flex
  flex-direction: column
  gap: 0.75rem

.muted
  @include font-body
  color: var(--color-text-secondary)
  font-style: italic
  padding: 0.5rem 0

// Edit Modal
.editModal
  padding: 2rem var(--space-sides-general)
  display: flex
  flex-direction: column
  gap: 1.5rem
  max-width: 500px
  margin: 0 auto
  &_Title
    @include font-title
    font-weight: 600
    margin: 0

.editForm
  display: flex
  flex-direction: column
  gap: 1.25rem

.formField
  display: flex
  flex-direction: column
  gap: 0.5rem

.label
  @include font-body
  font-weight: 500
  font-size: 14px

.formActions
  display: flex
  gap: 0.75rem
  justify-content: space-between
  align-items: center
  margin-top: 0.5rem

.formActionsRight
  display: flex
  gap: 0.75rem

.buttonSecondary
  appearance: none
  padding: 8px 16px
  border: 1px solid var(--color-border, #e6e6e6)
  border-radius: 6px
  background: transparent
  color: var(--color-text-primary)
  font: inherit
  font-size: 14px
  cursor: pointer
  transition: all 0.2s ease
  &:hover:not(:disabled)
    background: var(--color-background-secondary, #f7f7f7)
  &:disabled
    opacity: 0.6
    cursor: not-allowed

.buttonDanger
  appearance: none
  padding: 8px 16px
  border: 1px solid var(--color-error, #d32f2f)
  border-radius: 6px
  background: transparent
  color: var(--color-error, #d32f2f)
  font: inherit
  font-size: 14px
  cursor: pointer
  transition: all 0.2s ease
  &:hover:not(:disabled)
    background: var(--color-error, #d32f2f)
    color: white
  &:disabled
    opacity: 0.6
    cursor: not-allowed

.button
  appearance: none
  padding: 8px 16px
  border: 1px solid var(--color-border, #e6e6e6)
  border-radius: 6px
  background: var(--color-text-primary, #000)
  color: var(--color-app, #fff)
  font: inherit
  font-size: 14px
  cursor: pointer
  transition: all 0.2s ease
  &:hover:not(:disabled)
    opacity: 0.85
  &:disabled
    opacity: 0.6
    cursor: not-allowed

// HTML TAGS
.input
  appearance: none
  width: 100%
  padding: 6px 8px
  border: 1px solid #e6e6e6
  border-radius: 6px
  background: #fff
  font: inherit
  font-size: 13px

.input:focus
  outline: none
  border-color: var(--color-text-secondary)

.input:disabled
  opacity: 0.6
  cursor: not-allowed
  background: #f7f7f7

.select
  appearance: none
  width: 100%
  padding: 6px 8px
  border: 1px solid #e6e6e6
  border-radius: 6px
  background: #fff
  font: inherit
  font-size: 13px
  cursor: pointer
.select:focus
  outline: none
  border-color: var(--color-text-secondary)
.select:disabled
  opacity: 0.6
  cursor: not-allowed
  background: #f7f7f7
